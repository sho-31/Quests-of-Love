<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kitty Divi's Dreamland â€” Welcome ğŸ’–</title>
<style>
  :root{
    --pink-1:#fff0f6;
    --pink-2:#ffe6f0;
    --accent:#ffb6d9;
    --deep:#ff2b86;
  }
  html,body{height:100%;margin:0;font-family:'Comic Sans MS', 'Trebuchet MS', system-ui, sans-serif;background:linear-gradient(180deg,var(--pink-2),#fff0f8);color:#a31a57;overflow:hidden}
  /* Container */
  .stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px;box-sizing:border-box}
  .card{width:1000px;max-width:96vw;background:linear-gradient(180deg,#ffffffcc,#fff0f8);border-radius:24px;padding:28px 32px;box-shadow:0 20px 50px rgba(255,90,150,0.12);position:relative;overflow:visible}
  h1{font-size:42px;margin:0 0 8px 0;color:var(--deep);text-align:center;letter-spacing:1px;text-shadow:0 10px 30px rgba(255,100,170,0.12)}
  /* main hero area */
  .hero{display:flex;flex-direction:column;align-items:center;gap:14px}
  .main-kitty-wrap{width:300px;height:380px;border-radius:14px;background:linear-gradient(180deg,#fff,#fff0f6);display:flex;align-items:center;justify-content:center;box-shadow:0 12px 40px rgba(255,110,170,0.07);overflow:hidden}
  img#mainKitty{max-width:86%;max-height:86%;display:block;filter:drop-shadow(0 10px 30px rgba(255,120,170,0.14));transition:transform .6s}
  .messageBox{width:80%;max-width:820px;margin:16px auto;background:linear-gradient(180deg,#fff,#fffaf7);padding:18px;border-radius:14px;font-size:18px;color:#6a063a;box-shadow:0 6px 24px rgba(255,120,170,0.06);min-height:68px;display:flex;align-items:center;justify-content:center;position:relative}
  .btnRow{display:flex;gap:18px;justify-content:center;margin-top:16px}
  .btn{background:linear-gradient(45deg,var(--accent),#ff99cc);border:none;padding:12px 26px;border-radius:999px;color:white;font-weight:800;cursor:pointer;box-shadow:0 8px 28px rgba(255,95,160,0.14);transition:transform .18s,box-shadow .18s}
  .btn:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 16px 50px rgba(255,95,160,0.18)}
  /* floating helpers */
  .floating{position:fixed;z-index:10;pointer-events:none;user-select:none}
  .floating.emoji{font-size:1.6rem;opacity:.95}
  /* stars */
  .star{position:fixed;width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,0.95);filter:blur(.2px);opacity:.9}
  /* jumping kitty (absolute on page) */
  #jumper{position:fixed;width:96px;height:96px;z-index:40;transform-origin:center center;pointer-events:none;will-change:transform}
  /* small responsive tweaks */
  @media (max-width:720px){
    h1{font-size:28px}
    .main-kitty-wrap{width:220px;height:300px}
    img#mainKitty{max-width:92%}
  }
</style>
</head>
<body>
  <div class="stage" aria-hidden="false">
    <section class="card" role="main" aria-label="Kitty Divi Dreamland">
      <div class="hero">
        <h1>ğŸŒ¸ Welcome to Kitty Divi's Magical Dreamland ğŸŒ¸</h1>

        <div class="main-kitty-wrap" aria-hidden="true">
          <!-- Real Hello Kitty local image (fallback to inline cute SVG if missing) -->
          <img id="mainKitty" src="images/hello_kitty.png" alt="Hello Kitty â€” Kitty Divi" onerror="fallbackKitty(this)">
        </div>

        <div id="messageBox" class="messageBox" aria-live="polite">
          <span id="msgText">âœ¨ Tap a button for magic âœ¨</span>
        </div>

        <div class="btnRow" role="group" aria-label="controls">
          <button class="btn" id="msgBtn" title="Sweet Message">ğŸ’Œ Sweet Message</button>
          <button class="btn" id="tapBtn" title="Tap the Heart">ğŸ’– Tap the Heart</button>
        </div>
      </div>
    </section>
  </div>

  <!-- jumping kitty (will attempt to load local gif, fallback to emoji) -->
  <img id="jumper" src="images/jumping_cat.gif" alt="Jumping Kitty" onerror="fallbackJumper(this)" style="left:-200px;top:60vh;opacity:0.98">

<script>
/* -------------------------
   Utilities & content
   ------------------------- */
const MESSAGES = [
  "Kitty Divi, you are pure magic wrapped in cuteness âœ¨ğŸ’–",
  "If smiles were stars, youâ€™d be the whole galaxy ğŸŒŒ",
  "Youâ€™re softer than a kittenâ€™s first meow ğŸ±ğŸ’•",
  "Your heart is my favorite place ğŸ’–",
  "You make every day sparkle ğŸŒ¸",
  "I love you more than cotton candy skies ğŸ’•"
];

const msgTextEl = document.getElementById('msgText');
const msgBtn = document.getElementById('msgBtn');
const tapBtn = document.getElementById('tapBtn');
const jumper = document.getElementById('jumper');
let tapCount = 0;

/* -------------------------
   Safe fallbacks for images
   ------------------------- */
function fallbackKitty(img){
  // Replace with simple inline SVG (cute generic cat) so no broken images
  img.onerror = null;
  const svg = encodeURIComponent(`
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'>
      <rect width='100%' height='100%' fill='#fff0f6'/>
      <g transform='translate(100,100)'>
        <circle r='60' fill='#fff' stroke='#ff7fa6' stroke-width='3'/>
        <path d='M-40,-30 L-70,-70 L-30,-50 Z' fill='#fff' stroke='#ff7fa6' stroke-width='3'/>
        <path d='M40,-30 L70,-70 L30,-50 Z' fill='#fff' stroke='#ff7fa6' stroke-width='3'/>
        <ellipse rx='8' ry='6' cx='-20' cy='-2' fill='#7a0a3a'/>
        <ellipse rx='8' ry='6' cx='20' cy='-2' fill='#7a0a3a'/>
        <ellipse rx='6' ry='3' cx='0' cy='18' fill='#7a0a3a'/>
        <ellipse cx='40' cy='-28' rx='18' ry='12' fill='#ff3fa7'/>
      </g>
    </svg>`);
  img.src = 'data:image/svg+xml;utf8,' + svg;
}

function fallbackJumper(img){
  // If GIF not present, replace with emoji element
  img.onerror = null;
  const emoji = document.createElement('div');
  emoji.id = 'jumper';
  emoji.textContent = 'ğŸ¾';
  emoji.style.fontSize = '48px';
  emoji.style.position = 'fixed';
  emoji.style.left = '-220px';
  emoji.style.top = '60vh';
  emoji.style.zIndex = '40';
  emoji.style.pointerEvents = 'none';
  document.body.appendChild(emoji);
  // remove original img (broken)
  img.remove();
  // reassign jumper var to new emoji element
  window.jumper = emoji;
}

/* -------------------------
   Typewriter message
   ------------------------- */
let typeTimer = null;
function typeMessage(text, speed = 28){
  cancelType();
  msgTextEl.textContent = '';
  let i = 0;
  typeTimer = setInterval(()=>{
    msgTextEl.textContent += text.charAt(i) || '';
    i++;
    if(i > text.length){ cancelType(); }
  }, speed);
}
function cancelType(){ if(typeTimer){ clearInterval(typeTimer); typeTimer = null; } }

/* -------------------------
   Message + jumper interactions
   ------------------------- */
function showRandomMessage(withType=true){
  const txt = MESSAGES[Math.floor(Math.random()*MESSAGES.length)];
  if(withType) typeMessage(txt);
  else { cancelType(); msgTextEl.textContent = txt; }
  spawnFloating('ğŸ’–', 12);
}

/* button events */
msgBtn.addEventListener('click', ()=>{ showRandomMessage(true); spawnFloating('ğŸŒ¸',8); });
tapBtn.addEventListener('click', ()=>{
  tapCount++;
  spawnFloating('ğŸ’–',10);
  // small bounce on message area
  pulseElement(document.querySelector('.messageBox'));
  if(tapCount >= 3){ window.location.href = 'cute-surprise.html'; }
});

/* pulse helper */
function pulseElement(el){
  el.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}],{duration:420,easing:'cubic-bezier(.2,.9,.2,1)'});
}

/* -------------------------
   Floating emojis & stars
   ------------------------- */
function spawnFloating(symbol, size=18){
  const el = document.createElement('div');
  el.className = 'floating emoji';
  el.textContent = symbol;
  const fontSize = Math.min(Math.max(size,12),36);
  el.style.fontSize = fontSize + 'px';
  el.style.left = (Math.random()*92+2) + 'vw';
  el.style.bottom = '-12vh';
  el.style.opacity = (0.7 + Math.random()*0.3).toString();
  const dur = 4000 + Math.random()*6000;
  el.style.transition = `transform ${dur}ms linear, opacity ${dur}ms linear`;
  document.body.appendChild(el);
  // animate with transform translate3d
  requestAnimationFrame(()=>{
    el.style.transform = `translate3d(0,-${80 + Math.random()*120}vh,0) rotate(${Math.random()*80-40}deg) scale(${0.9+Math.random()*0.6})`;
    el.style.opacity = '0';
  });
  setTimeout(()=> el.remove(), dur + 250);
}

/* create many soft stars */
(function createStars(){
  const n = 40;
  for(let i=0;i<n;i++){
    const s = document.createElement('div');
    s.className = 'star';
    s.style.left = Math.random()*100 + 'vw';
    s.style.top  = Math.random()*100 + 'vh';
    s.style.opacity = (0.15 + Math.random()*0.55).toString();
    s.style.transform = `scale(${0.6 + Math.random()*1.6})`;
    s.style.animationDuration = (1 + Math.random()*2) + 's';
    document.body.appendChild(s);
  }
})();

/* spawn background floaters steadily */
setInterval(()=> spawnFloating(['ğŸ±','ğŸ˜º','ğŸ˜»','ğŸ’–','ğŸŒ¸'][Math.floor(Math.random()*5)], 20), 1600);

/* -------------------------
   Smooth jumper physics
   ------------------------- */
let jumperEl = jumper; // may be image or replaced element
function getViewport(){ return {w:window.innerWidth,h:window.innerHeight}; }

function pickTargetNearMessage(){
  const box = document.querySelector('.messageBox').getBoundingClientRect();
  const x = box.left + box.width*0.6;
  const y = Math.max(box.top - 60, 60);
  // clamp inside viewport
  return {x: Math.max(40, Math.min(x, window.innerWidth-80)), y: Math.max(40, y)};
}

// start jumper at left-bottom offscreen
let jumperState = {x:-140,y: window.innerHeight*0.72};
setPosition(jumperState.x, jumperState.y);

function setPosition(x,y,rot=0,scale=1){
  if(!jumperEl) jumperEl = document.getElementById('jumper');
  if(!jumperEl) return;
  jumperEl.style.transform = `translate(${x}px, ${y}px) rotate(${rot}deg) scale(${scale})`;
}

/* Quadratic arc interpolation */
function jumpTo(targetX, targetY, duration = 1100, onEnd=null){
  if(!jumperEl) jumperEl = document.getElementById('jumper');
  const startX = jumperState.x;
  const startY = jumperState.y;
  const dx = targetX - startX;
  const dy = targetY - startY;
  const arc = Math.max(80, Math.abs(dx) * 0.25 + 60); // peak height
  const start = performance.now();

  function frame(now){
    const t = Math.min(1, (now - start) / duration);
    // ease in-out
    const ease = t<0.5 ? 2*t*t : -1 + (4-2*t)*t;
    // Bezier-like parabola for y:
    const cx = startX + dx * ease;
    const cy = startY + dy * ease - arc * (4 * ease * (1 - ease)); // substract arc hump
    // rotation & scale for playful effect
    const rot = Math.sin(ease * Math.PI) * 22 * (dx>0?1:-1);
    const scale = 1 + 0.07 * Math.sin(ease * Math.PI);
    setPosition(cx, cy, rot, scale);
    if(t < 1){ requestAnimationFrame(frame); } else {
      jumperState.x = targetX; jumperState.y = targetY;
      // gentle settle animation
      jumperEl.animate([{transform:`translate(${targetX}px, ${targetY}px) scale(1.05)`},{transform:`translate(${targetX}px, ${targetY}px) scale(1)`}],{duration:320,easing:'ease-out'});
      if(typeof onEnd === 'function') onEnd();
    }
  }
  requestAnimationFrame(frame);
}

/* Jump loop: random jumps, sometimes near message box */
function scheduleJump(){
  const v = Math.random();
  const vp = getViewport();
  let target;
  if(v < 0.38){
    target = pickTargetNearMessage();
  } else {
    target = { x: 80 + Math.random() * (vp.w - 160), y: 80 + Math.random() * (vp.h - 240) };
  }
  const dur = 900 + Math.random() * 700;
  jumpTo(target.x, target.y, dur, ()=> {
    // after landing: if near message box, "read" and show message
    const msgBoxRect = document.querySelector('.messageBox').getBoundingClientRect();
    const dx = Math.abs(target.x - (msgBoxRect.left + msgBoxRect.width/2));
    if(dx < 160){
      // kitty reads message: type new message
      const txt = MESSAGES[Math.floor(Math.random()*MESSAGES.length)];
      typeMessage(txt, 26);
      pulseElement(document.querySelector('.messageBox'));
      spawnFloating('âœ¨',12);
    }
    // schedule next hop after random delay
    setTimeout(scheduleJump, 900 + Math.random()*1200);
  });
}

// start jumping after small delay
setTimeout(()=> scheduleJump(), 700);

/* update jumperEl reference if replaced by fallback */
setInterval(()=> { if(!jumperEl) jumperEl = document.getElementById('jumper'); }, 2000);

/* reposition on resize so jumps remain in-bounds */
window.addEventListener('resize', ()=> {
  const vp = getViewport();
  if(jumperState.y > vp.h - 60) jumperState.y = vp.h - 120;
});

</script>
</body>
</html>
