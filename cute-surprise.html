<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Cute Surprise for Kitty Divi ðŸ’–</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: linear-gradient(180deg, #ffe6f0, #ffd1e8);
    text-align: center;
    color: #d63384;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }

  h1 {
    font-size: 3rem;
    margin-top: 40px;
    color: #ff1493;
    text-shadow: 0 0 20px #ff69b4, 0 0 40px #ff1493;
    animation: glow 2s infinite alternate;
  }

  p {
    font-size: 1.2rem;
    max-width: 700px;
    margin: 20px auto;
    line-height: 1.8;
    padding: 0 15px;
  }

  @keyframes glow {
    from { text-shadow: 0 0 20px #ff69b4, 0 0 40px #ff1493; }
    to { text-shadow: 0 0 40px #ff69b4, 0 0 60px #ff1493; }
  }

  .kitty-btn {
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    border: none;
    padding: 15px 40px;
    font-size: 1.2rem;
    color: white;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
    transition: all 0.3s ease;
  }
  .kitty-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(255, 20, 147, 0.6);
  }

  /* floating sparkles (non-interactive so they don't block taps) */
  .floating {
    position: fixed;
    animation: floatUp 6s linear infinite;
    bottom: -100px;
    z-index: 10;
    pointer-events: none; /* important â€” don't capture taps */
  }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(0.8); opacity: 1; }
    100% { transform: translateY(-110vh) scale(1.2); opacity: 0; }
  }

  /* Love Button */
  .love-btn {
    display:block;
    margin: 20px auto;
    background-color: #ff4d94;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 1.1em;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(255,0,102,0.3);
    transition: transform 0.2s ease;
  }
  .love-btn:hover {
    transform: scale(1.05);
  }

  /* Love Message Box */
  #loveMessageBox {
    display:none;
    margin-top: 15px;
    padding: 15px;
    background-color: #ffe6f0;
    border-radius: 15px;
    font-size: 1.1em;
    color: #b30059;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 350ms ease, transform 350ms ease;
    position: relative; /* keep in document flow below buttons */
    overflow: visible;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    z-index: 1000; /* ensure it's above floating elements */
    line-height: 1.6;
    text-align: left;
  }

  /* small floating hearts inside box (non-interactive) */
  .heart {
    position: absolute;
    font-size: 18px;
    animation: heartFloat 2s ease-out forwards;
    opacity: 0.95;
    pointer-events: none; /* don't block touches */
  }
  @keyframes heartFloat {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-60px) scale(1.4); opacity: 0; }
  }

  /* make the content look a bit nicer on small screens */
  @media (max-width: 420px) {
    h1 { font-size: 2rem; }
    p { font-size: 1rem; padding: 0 12px; }
    #loveMessageBox { font-size: 1rem; padding: 14px; }
  }
</style>
</head>
<body>

  <h1>ðŸ’– I Love You so much my Kitty Divi ðŸ’–</h1>
  <p>
    My lovely Angel, you make my eyes shine, your one glance a bliss so divine.
    The warmth of yours is my safe ad happy place, I just want you to know that 
    till eternity ends and beyond, you will always be my a craving of my gaze.
    With you every day feels as if filled with magic and every breath worth to live.
    You are a gentle warm dream that I never want to wake from.

    Thank you so much my Divanshi, for being who you are.
    And I am so so so proud of you for everything you are my love.
    Ummmmmmmmmaaaaaaaaahhhhhhhhhh on forehead ðŸ’•
  </p>

  <button class="kitty-btn" onclick="startSparkleMode()">âœ¨ Kitty Sparkle Mode</button>

  <!-- New Love Button -->
  <button class="love-btn" id="loveBtn">ðŸ’– Want to know how much Shourya loves you? ðŸ’–</button>
  <div id="loveMessageBox" aria-live="polite"></div>

<script src="https://js.puter.com/v2/"></script>
<script>
  function createFloatingItem(symbol) {
    const el = document.createElement('div');
    el.classList.add('floating');
    el.textContent = symbol;
    el.style.fontSize = '2rem';
    el.style.left = Math.random() * 100 + 'vw';
    el.style.animationDuration = (4 + Math.random() * 3) + 's';
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 7000);
  }

  function startSparkleMode() {
    const symbols = ['ðŸ’–', 'ðŸŽˆ'];
    const interval = setInterval(() => {
      const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
      createFloatingItem(randomSymbol);
    }, 300);
    setTimeout(() => clearInterval(interval), 8000);
  }

  // New Love Button Functionality
  let loveLevel = 1;

  // create a small heart inside the box and float it upward
  function createHeart(container) {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.textContent = "ðŸ’–";

    // place within box width (8% - 85%)
    const leftPct = 8 + Math.random() * 77;
    heart.style.left = leftPct + "%";
    heart.style.bottom = "8px";

    container.appendChild(heart);
    setTimeout(() => heart.remove(), 2200);
  }

  document.getElementById("loveBtn").addEventListener("click", async () => {
    const btn = document.getElementById("loveBtn");
    const box = document.getElementById("loveMessageBox");

    btn.disabled = true;
    // show box with thinking text
    box.style.display = "block";
    box.style.opacity = "0";
    box.style.transform = "translateY(8px)";
    box.textContent = "âœ¨ Thinking about your magical bond with Divanshi... âœ¨";

    // hearts inside the box (visual only)
    for (let i = 0; i < 5; i++) {
      setTimeout(() => createHeart(box), i * 160);
    }

    // ensure user sees the box (center of viewport)
    setTimeout(() => {
      try {
        box.scrollIntoView({ behavior: "smooth", block: "center" });
      } catch (e) { /* ignore scroll errors on some environments */ }
    }, 120);

    try {
      const prompt = `
You are writing a romantic love note from Shourya to his beloved Divanshi.
Make it poetic, magical, and full of warm emotions.
Love Level: ${loveLevel}.
Each time the level increases, make the words even more dreamy, enchanting, and heartwarming.
Mention how much he adores, respects, and admires Divanshi deeply, with metaphors and gentle imagery.
End with something uniquely sweet each time.
      `.trim();

      // call Puter if available; otherwise fallback
      let responseText = null;
      if (window.puter && puter.ai && typeof puter.ai.chat === 'function') {
        let response = await puter.ai.chat(prompt, { model: "gpt-4.1-nano" });
        // normalize possible shapes into string
        if (!response) {
          responseText = "";
        } else if (typeof response === "string") {
          responseText = response;
        } else if (typeof response === "object") {
          responseText = response.text || response.content || JSON.stringify(response);
        } else {
          responseText = String(response);
        }
      } else {
        // simulate a short delay so UX feels consistent, then fallback
        await new Promise(r => setTimeout(r, 300));
        throw new Error("Puter not available");
      }

      // reveal response with a tiny delay so sparkles finish
      setTimeout(() => {
        box.textContent = responseText || (`Divanshi â€” Shourya's heart overflows for you. Even if words stumble, know he adores and respects you with a love that softens every shadow. ðŸ’•`);
        box.style.opacity = "1";
        box.style.transform = "translateY(0)";
        try { box.scrollIntoView({ behavior: "smooth", block: "center" }); } catch(e){}
      }, 300);
    } catch (err) {
      console.error("Love message error:", err);
      const fallback = `Divanshi â€” Shourya's heart overflows for you. Even if words stumble, know that he adores and respects you with a love that softens every shadow. ðŸ’•`;

      setTimeout(() => {
        box.textContent = fallback;
        box.style.opacity = "1";
        box.style.transform = "translateY(0)";
        try { box.scrollIntoView({ behavior: "smooth", block: "center" }); } catch(e){}
      }, 200);
    } finally {
      loveLevel++; // increase magic for next click regardless
      btn.disabled = false;
    }
  });
</script>

</body>
</html>
