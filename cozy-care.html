<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üêæ Cozy Care üíï</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-deep-1:#02061a;
    --bg-deep-2:#07112a;
    --accentA:#ff78b2;
    --accentB:#ff57a0;
    --glass: rgba(255,255,255,0.04);
    --muted:#b07aa6;
    --soft-white: rgba(255, 245, 255, 0.92);
  }

  /* page base */
  html,body { height:100%; margin:0; background: linear-gradient(180deg, var(--bg-deep-1) 0%, var(--bg-deep-2) 60%, #020318 100%); color:var(--soft-white); font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow:hidden; }

  /* full-screen star canvas sits behind everything */
  #starfield { position:fixed; inset:0; z-index:0; display:block; }

  /* dreamy nebula overlays */
  .nebula {
    position:fixed; inset:0; pointer-events:none; z-index:1;
    background:
      radial-gradient(800px 400px at 15% 25%, rgba(255,120,180,0.06), transparent 12%),
      radial-gradient(700px 450px at 85% 80%, rgba(60,90,200,0.05), transparent 10%),
      radial-gradient(600px 300px at 50% 40%, rgba(255,255,255,0.02), transparent 18%);
    mix-blend-mode: screen;
    opacity:0.95;
    filter:blur(18px) saturate(120%);
  }

  /* subtle vignette */
  .vignette { position:fixed; inset:0; z-index:2; pointer-events:none;
    background: radial-gradient(1200px 700px at 50% 30%, rgba(0,0,0,0.06), transparent 20%),
                linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.38));
    mix-blend-mode:multiply; }

  /* main content area */
  .stage {
    position:relative;
    z-index:3;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:36px;
    box-sizing:border-box;
  }

  .card {
    width:100%;
    max-width:980px;
    display:grid;
    grid-template-columns: 1fr 400px;
    gap:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:28px;
    box-shadow: 0 30px 80px rgba(2,6,26,0.72);
    border: 1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(6px) saturate(110%);
    align-items:center;
  }

  @media (max-width:920px) {
    .card { grid-template-columns: 1fr; padding:20px; gap:18px; margin: 16px; }
  }

  /* left: breathing area */
  .breath-wrap { display:flex; flex-direction:column; align-items:center; gap:18px; }
  h1.title { font-family: 'Patrick Hand', cursive; font-size:clamp(1.6rem,4vw,2.4rem); margin:0; color:var(--accentA); text-shadow: 0 8px 40px rgba(255,90,160,0.08); }
  p.lead { margin:0; color:var(--muted); font-weight:500; }

  .breath-stage {
    width:320px; height:320px; border-radius:999px; display:grid; place-items:center;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.02), rgba(10,24,50,0.12) 40%);
    box-shadow: 0 20px 60px rgba(6,10,30,0.6), inset 0 6px 18px rgba(255,255,255,0.02);
    position:relative; overflow:visible;
  }

  @media (max-width:920px){ .breath-stage { width:260px; height:260px; } }

  /* animated breathing orb */
  .breath-orb {
    width:180px; height:180px; border-radius:999px; display:flex; align-items:center; justify-content:center;
    background: radial-gradient(circle at 35% 28%, rgba(255,240,250,0.06), rgba(10,24,50,0.12) 80%);
    box-shadow: 0 28px 80px rgba(255,120,180,0.06), 0 8px 28px rgba(0,0,0,0.5), inset 0 8px 24px rgba(255,255,255,0.02);
    transition: transform 4000ms cubic-bezier(.2,.9,.2,1);
    will-change: transform;
  }

  .breath-orb.small { transform: scale(0.78); transition-duration:4000ms; }
  .breath-orb.big   { transform: scale(1.18); transition-duration:7000ms; }

  /* central label inside orb */
  .orb-label { text-align:center; pointer-events:none; font-weight:700; color:#ffdff8; font-size:1.05rem; text-shadow:0 6px 30px rgba(0,0,0,0.6); }

  /* controls */
  .controls { display:flex; gap:12px; align-items:center; }
  .btn {
    padding:12px 18px; border-radius:999px; border:0; cursor:pointer; font-weight:700;
    background: linear-gradient(90deg, var(--accentA), var(--accentB)); color:#120218;
    box-shadow: 0 10px 30px rgba(255,90,160,0.12);
  }
  .btn.secondary { background:transparent; color:var(--soft-white); border:1px solid rgba(255,255,255,0.04); box-shadow:none; }

  .meta { color:var(--muted); font-size:0.95rem; }

  /* right: affirmations */
  .affirm-wrap { display:flex; flex-direction:column; gap:18px; justify-content:center; align-items:stretch; }
  .affirm-card {
    padding:20px; border-radius:14px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.02); box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    min-height:120px; display:flex; flex-direction:column; justify-content:center; align-items:center;
  }

  .affirm-text { font-weight:800; text-align:center; font-size:1.05rem; color:#ffdff8; text-shadow: 0 6px 26px rgba(0,0,0,0.5); }

  .small-muted { color:var(--muted); font-size:0.9rem; text-align:center; margin-top:6px; }

  /* small twinkly star elements for UI depth */
  .ui-star {
    position:absolute; width:6px; height:6px; border-radius:50%; background:linear-gradient(180deg,#fff,#ffdff8);
    filter: blur(6px) drop-shadow(0 0 8px rgba(255,255,255,0.4));
    opacity:0.14; transform:translate3d(0,0,0);
    animation: uiFloat 10s linear infinite;
    z-index:4;
  }
  @keyframes uiFloat {
    0% { transform: translateY(0) scale(1); opacity:0.12; }
    50% { transform: translateY(-20px) scale(1.24); opacity:0.28; }
    100% { transform: translateY(0) scale(1); opacity:0.12; }
  }

  /* dreamy CTA at bottom of card */
  .footer-cta { display:flex; gap:12px; justify-content:center; align-items:center; margin-top:8px; }

  /* accessibility: reduce motion */
  @media (prefers-reduced-motion: reduce){
    .breath-orb, .ui-star { transition:none; animation:none; }
  }

</style>
</head>
<body>

<!-- star canvas (full page) -->
<canvas id="starfield" aria-hidden="true"></canvas>

<!-- soft overlays -->
<div class="nebula" aria-hidden="true"></div>
<div class="vignette" aria-hidden="true"></div>

<!-- some floating UI stars for depth -->
<div id="uiStarsContainer" aria-hidden="true"></div>

<!-- main content -->
<main class="stage" role="main">
  <section class="card" aria-label="Relaxation card with breathing and affirmations">

    <!-- Breathing left -->
    <div class="breath-wrap" aria-hidden="false">
      <h1 class="title">Stargaze & Breathe</h1>
      <p class="lead">A tiny universe made for Divanshi ‚Äî inhale starlight, exhale all the noise.</p>

      <div class="breath-stage" aria-live="polite">
        <div class="breath-orb small" id="breathOrb" aria-hidden="false">
          <div class="orb-label" id="breathLabel">Ready</div>
        </div>
      </div>

      <div class="controls">
        <button class="btn" id="startBtn" aria-pressed="false">Start Breathing</button>
        <button class="btn secondary" id="stopBtn">Stop</button>
      </div>

      <div class="meta" id="cycleMeta">Cycle: 0 ‚Ä¢ Phase: idle ‚Ä¢ Time left: ‚Äî</div>
      <div class="footer-cta small-muted">Tip: click/tap anywhere on the starlit background to add a soft particle.</div>
    </div>

    <!-- Affirmations right -->
    <aside class="affirm-wrap" aria-hidden="false">
      <div class="affirm-card" role="region" aria-label="Gentle affirmations for Divanshi">
        <div class="affirm-text" id="affirmText">You are doing amazing, Divanshi üíõ</div>
        <div class="small-muted">(changes every 5 seconds)</div>
      </div>

      <div class="affirm-card" style="min-height:80px;">
        <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">
          <button class="btn secondary" id="prevAffirm">Previous</button>
          <button class="btn" id="pauseAffirm">Pause</button>
          <button class="btn secondary" id="nextAffirm">Next</button>
        </div>
      </div>
    </aside>

  </section>
</main>

<script>
/* ===========================
   STARFIELD ‚Äî canvas based
   =========================== */
(function(){
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let width = canvas.width = innerWidth;
  let height = canvas.height = innerHeight;
  let stars = [];
  const STAR_COUNT = Math.round((width * height) / 6000); // density

  function rand(min, max){ return Math.random() * (max - min) + min; }

  function makeStars(count) {
    stars = [];
    for (let i=0; i<count; i++){
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        r: Math.pow(Math.random(), 2) * 1.75 + 0.3, // radius
        baseAlpha: rand(0.2, 0.95),
        twinkleSpeed: rand(0.002, 0.01),
        phase: Math.random() * Math.PI * 2,
        hueShift: rand(-10, 20) // tiny color shift
      });
    }
  }

  function draw(time){
    ctx.clearRect(0,0,width,height);
    // soft glow background (faint)
    const g = ctx.createLinearGradient(0,0,0,height);
    g.addColorStop(0,'rgba(5,12,30,0.2)');
    g.addColorStop(1,'rgba(0,3,12,0.35)');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,width,height);

    for (let s of stars){
      // twinkle by alpha oscillation
      s.phase += s.twinkleSpeed * 60;
      const a = s.baseAlpha * (0.6 + 0.4 * Math.sin(s.phase));
      // soft colored glow
      const cx = s.x, cy = s.y, r = s.r;
      const rad = ctx.createRadialGradient(cx, cy, 0, cx, cy, r*8);
      rad.addColorStop(0, `rgba(${255},${240 + s.hueShift},${255},${a*0.9})`);
      rad.addColorStop(0.5, `rgba(255,255,255,${a*0.45})`);
      rad.addColorStop(1, `rgba(255,255,255,0)`);
      ctx.beginPath();
      ctx.fillStyle = rad;
      ctx.arc(cx, cy, r*8, 0, Math.PI*2);
      ctx.fill();

      // core
      ctx.beginPath();
      ctx.fillStyle = `rgba(255,255,255,${Math.min(1,a+0.12)})`;
      ctx.arc(cx, cy, r, 0, Math.PI*2);
      ctx.fill();
    }

    requestAnimationFrame(draw);
  }

  // parallax on mouse movement
  let mx = width/2, my = height/2;
  addEventListener('mousemove', (e) => { mx = e.clientX; my = e.clientY; shiftStars(); });
  addEventListener('touchmove', (e) => { mx = e.touches[0].clientX; my = e.touches[0].clientY; shiftStars(); }, {passive:true});

  function shiftStars(){
    const cx = width/2, cy = height/2;
    const dx = (mx - cx)/cx, dy = (my - cy)/cy;
    for (let i=0;i<stars.length;i++){
      const s = stars[i];
      // subtle shift based on size (bigger stars move less)
      s.x += dx * (0.5 - Math.min(0.45, s.r / 3.5));
      s.y += dy * (0.5 - Math.min(0.45, s.r / 3.5));
    }
  }

  // initial
  function resize(){
    width = canvas.width = innerWidth;
    height = canvas.height = innerHeight;
    makeStars(Math.max(60, Math.round((width * height) / 6000)));
  }
  addEventListener('resize', resize);
  resize();
  requestAnimationFrame(draw);

  // click to spawn a small sparkle
  addEventListener('click', (e)=>{
    const sx = e.clientX, sy = e.clientY;
    // push a few temporary bright stars
    for (let i=0;i<6;i++){
      stars.push({
        x: sx + rand(-18,18),
        y: sy + rand(-18,18),
        r: rand(0.6,2.4),
        baseAlpha: rand(0.8,1),
        twinkleSpeed: rand(0.02,0.06),
        phase: Math.random()*Math.PI*2,
        hueShift: rand(-10,20)
      });
    }
    // remove them after a little while to avoid memory growth
    setTimeout(()=>{ stars = stars.slice(0, STAR_COUNT); }, 2600);
  });

})();

/* ===========================
   UI DECOR: small floating star dots
   =========================== */
(function(){
  const container = document.getElementById('uiStarsContainer');
  const count = 8;
  for (let i=0;i<count;i++){
    const el = document.createElement('div');
    el.className = 'ui-star';
    el.style.left = (10 + Math.random()*80) + '%';
    el.style.top = (8 + Math.random()*80) + '%';
    el.style.opacity = (0.05 + Math.random()*0.18);
    el.style.transform = `scale(${0.6 + Math.random()*1.2})`;
    el.style.animationDelay = (Math.random()*6) + 's';
    container.appendChild(el);
  }
})();

/* ===========================
   BREATHING LOGIC
   =========================== */
(function(){
  const startBtn = document.getElementById('startBtn');
  const stopBtn = document.getElementById('stopBtn');
  const orb = document.getElementById('breathOrb');
  const label = document.getElementById('breathLabel');
  const meta = document.getElementById('cycleMeta');

  // Cycle settings (feel free to adjust)
  const inhale = 4.5; // seconds
  const hold = 2; // seconds
  const exhale = 6; // seconds
  const cycleDuration = inhale + hold + exhale;
  let running = false;
  let cycleCount = 0;
  let phase = 'idle'; // inhale, hold, exhale
  let timeLeft = 0;
  let timerId = null;

  function updateMeta(){
    meta.textContent = `Cycle: ${cycleCount} ‚Ä¢ Phase: ${phase} ‚Ä¢ Time left: ${timeLeft ? timeLeft.toFixed(1) + 's' : '‚Äî'}`;
  }

  function start(){
    if (running) return;
    running = true;
    startBtn.setAttribute('aria-pressed','true');
    label.textContent = 'Inhale...';
    cycleCount = 0;
    phase = 'inhale';
    timeLeft = inhale;
    orb.classList.remove('small'); orb.classList.add('big');
    updateMeta();
    step();
  }

  function stop(){
    running = false;
    startBtn.setAttribute('aria-pressed','false');
    label.textContent = 'Stopped';
    orb.classList.remove('big'); orb.classList.add('small');
    phase = 'idle'; timeLeft = 0; updateMeta();
    if (timerId) { clearTimeout(timerId); timerId = null; }
  }

  function step(){
    const startTime = performance.now();
    if (!running) return;
    let phaseTimer = 0;

    if (phase === 'inhale'){
      label.textContent = 'Inhale';
      timeLeft = inhale;
      updateMeta();
      // set orb to big (smooth CSS transition handles timing)
      orb.classList.remove('small'); orb.classList.add('big');
      timerId = setTimeout(()=>{ phase = 'hold'; step(); }, inhale*1000);
    }
    else if (phase === 'hold'){
      label.textContent = 'Hold';
      timeLeft = hold;
      updateMeta();
      timerId = setTimeout(()=>{ phase = 'exhale'; step(); }, hold*1000);
    }
    else if (phase === 'exhale'){
      label.textContent = 'Exhale';
      timeLeft = exhale;
      updateMeta();
      orb.classList.remove('big'); orb.classList.add('small');
      timerId = setTimeout(()=>{ cycleCount += 1; phase = 'inhale'; step(); }, exhale*1000);
    }

    // small interval to update countdown display
    let interval = setInterval(()=>{
      if (!running){ clearInterval(interval); return; }
      timeLeft = Math.max(0, timeLeft - 0.1);
      updateMeta();
    }, 100);

    // stop interval when phase changes
    setTimeout(()=>{ clearInterval(interval); }, ( (phase === 'inhale' ? inhale : phase === 'hold' ? hold : exhale) * 1000 ) + 50);
  }

  startBtn.addEventListener('click', start);
  stopBtn.addEventListener('click', stop);

  // keyboard accessibility
  document.addEventListener('keydown',(e)=>{
    if (e.key === ' '){ e.preventDefault(); if (running) stop(); else start(); }
  });

  // stop on page hide
  document.addEventListener('visibilitychange', ()=>{ if (document.hidden) stop(); });

})();

/* ===========================
   AFFIRMATIONS rotation
   =========================== */
(function(){
  const AFFIRMATIONS = [
    "You are doing amazing, Divanshi üíõ",
    "Breathe in starlight, breathe out worries ‚ú®",
    "Soft heart. Strong soul. Gentle days.",
    "You are loved, seen and enough ‚Äî always.",
    "May your dreams be vast and kind.",
    "A universe of calm is always within you.",
    "Your presence is a gift ‚Äî breathe it in.",
    "Small steps. Deep breaths. Golden days."
  ];

  const display = document.getElementById('affirmText');
  const prevBtn = document.getElementById('prevAffirm');
  const nextBtn = document.getElementById('nextAffirm');
  const pauseBtn = document.getElementById('pauseAffirm');

  let idx = 0, paused = false, timer = null;

  function show(i){
    i = (i + AFFIRMATIONS.length) % AFFIRMATIONS.length;
    idx = i;
    // fade transition
    display.style.opacity = 0;
    setTimeout(()=>{ display.textContent = AFFIRMATIONS[i]; display.style.opacity = 1; }, 260);
  }

  function schedule(){
    if (timer) clearInterval(timer);
    if (!paused) timer = setInterval(()=>{ show(idx+1); }, 5000);
  }

  prevBtn.addEventListener('click', ()=>{ show(idx-1); schedule(); });
  nextBtn.addEventListener('click', ()=>{ show(idx+1); schedule(); });
  pauseBtn.addEventListener('click', ()=>{
    paused = !paused;
    pauseBtn.textContent = paused ? 'Resume' : 'Pause';
    if (paused){ if (timer) clearInterval(timer); timer = null; }
    else schedule();
  });

  // init
  show(0);
  schedule();
})();

</script>

</body>
</html>
